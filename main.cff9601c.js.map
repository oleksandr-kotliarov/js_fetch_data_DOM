{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","request","url","fetch","then","response","ok","setTimeout","Promise","reject","Error","status","statusText","json","getPhones","getPhonesDetails","arrId","all","map","id","list","document","createElement","phones","idList","phone","insertAdjacentHTML","details","data","Object","assign","body","append"],"mappings":";AAAA,aAEA,IAAMA,EAAN,4DAEMC,EAAU,SAACC,GACRC,OAAAA,MAASH,GAAAA,OAAAA,GAAWE,OAAAA,IACxBE,KAAK,SAAAC,GAOGA,OANFA,EAASC,IACZC,WAAW,WAAMC,OAAAA,QAAQC,OACvB,IAAIC,MAASL,GAAAA,OAAAA,EAASM,OAAYN,OAAAA,OAAAA,EAASO,eAC1C,KAGEP,EAASQ,UAIhBC,EAAY,WAAMb,OAAAA,EAAQ,iBAC1Bc,EAAmB,SAACC,GACjBR,OAAAA,QAAQS,IAAID,EAAME,IAAI,SAAAC,GAAMlB,OAAAA,EAAmBkB,WAAAA,OAAAA,EAAvB,cAG3BC,EAAOC,SAASC,cAAc,MAEpCR,IACGV,KAAK,SAAAmB,GACEC,IAAAA,EAASD,EAAOL,IAAI,SAAAO,GAGjBA,OAFPL,EAAKM,mBAAmB,YAAoBD,OAAAA,OAAAA,EAAMN,GAAlD,UAEOM,EAAMN,KAGTQ,EAAU,GAEhBZ,EAAiBS,GACdpB,KAAK,SAAAwB,GACJC,OAAOC,OAAOH,EAASC,OAI/BP,SAASU,KAAKC,OAAOZ","file":"main.cff9601c.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst BASE_URL = `https://mate-academy.github.io/phone-catalogue-static/api`;\n\nconst request = (url) => {\n  return fetch(`${BASE_URL}${url}`)\n    .then(response => {\n      if (!response.ok) {\n        setTimeout(() => Promise.reject(\n          new Error(`${response.status} - ${response.statusText}`)\n        ), 5000);\n      }\n\n      return response.json();\n    });\n};\n\nconst getPhones = () => request('/phones.json');\nconst getPhonesDetails = (arrId) => {\n  return Promise.all(arrId.map(id => request(`/phones/${id}.json`)));\n};\n\nconst list = document.createElement('ul');\n\ngetPhones()\n  .then(phones => {\n    const idList = phones.map(phone => {\n      list.insertAdjacentHTML('beforeend', `<li>${phone.id}</li>`);\n\n      return phone.id;\n    });\n\n    const details = [];\n\n    getPhonesDetails(idList)\n      .then(data => {\n        Object.assign(details, data);\n      });\n  });\n\ndocument.body.append(list);\n"]}